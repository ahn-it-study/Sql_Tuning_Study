# 소트 연산에 대한 이해
- SQL 수행 도중 가공된 데이터 집합이 필요할 때 오라클은 PGA와 Temp 테이블 스페이스를 이용함.
- 소트 머지 조인, 해시 조인, 데이터 소트와 그룹핑 등이 대표적
## 소트 수행 과정
- 소트는 PGA에 할당한 Sort Area에서 이루어진다.
- 메모리 공간인 Sort Area가 다 차면 디스크 Temp 테이블 스페이스를 활용한다.
- Sort Area에서 작업을 완료 할 수 있는지에 따라 아래와 같은 두가지 유형으로 나눈다.
1. In Memory Sort: 정렬 작업을 메모리 (PGA에 할당한 Sort Area)내에서 완료하는 것
2. Disk Sort: 할당받은 Sort Area 내에서 정렬을 완료하지 못해 디스크 공간(Temp 테이블 스페이스) 까지 사용하는 경우를 말함.
![무제](https://user-images.githubusercontent.com/23313008/167917243-f9f60bc0-6d7b-4848-8b87-6281dd2e6e44.png)  
소트 연산은 메모리 잡약적일 뿐만 아니라 CPU 집약적이기도 하다.  
처리할 데이터량이 많을 때는 디스크 I/O까지 발생하므로 쿼리 성능을 좌우하는 매우 중요한 요소이다.  
하지만 디스크 소트(Temp 테이블 스페이스)가 발생하는 순간 성능을 나빠질 수 밖에 없다.(위 그림에서 보시다시피..)  
디스크 I/O가 발생하는것도 문제지만 부분범위 처리를 불가능하게 함으로써 OLTP 환경에서 애플리케이션 성능을 저하시키는 주요인이 되기도 한다.  
- 될 수 있으면 소트가 발생하지 않도록 SQL 작성을 하고 소트가 불가피하다면 메모리 내에서 수행을 완료 할 수있게 해라.  
